<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For Anita ‚ù§Ô∏è</title>
  <style>
    :root{
      --red:#e11d48;
      --soft:#fff1f2;
      --ink:#0f172a;
      --muted:#475569;
      --card:#ffffff;
      --border:#ffe4e6;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(900px 420px at 20% 10%, var(--soft), transparent 55%),
        radial-gradient(900px 420px at 80% 0%, #ffe4e6, transparent 60%),
        #ffffff;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .wrap{width:min(860px, 100%)}
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:24px;
      box-shadow:0 12px 30px rgba(15,23,42,.08);
      overflow:hidden;
      position:relative;
      z-index:10;
    }
    header{
      padding:22px 22px 16px;
      border-bottom:1px solid var(--border);
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .title{display:flex; flex-direction:column; gap:6px;}
    h1{margin:0; font-size:22px; letter-spacing:.2px}
    .sub{margin:0; color:var(--muted); font-size:14px}
    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--red);
      background:#fff;
      font-weight:600;
      font-size:13px;
      user-select:none;
    }
    main{padding:22px}
    .grid{display:grid; grid-template-columns: 1fr; gap:18px; max-width:520px; margin:0 auto;}
    .panel{
      border:1px solid var(--border);
      border-radius:18px;
      padding:16px;
      background:#fff;
    }
    .label{color:var(--muted); font-size:12px; text-transform:uppercase; letter-spacing:.12em}
    .q{margin:10px 0 14px; font-size:18px; line-height:1.3;}
    .choices{display:grid; gap:10px}
    button.choice{
      width:100%;
      text-align:left;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background:#fff;
      font-size:15px;
      cursor:pointer;
      transition:.15s transform, .15s border, .15s background;
    }
    button.choice:hover{ transform: translateY(-1px); border-color:#fecdd3; background:#fff7f8; }

    /* Text input (Q4) */
    .textWrap{display:none; gap:10px; flex-direction:column}
    input[type="text"]{
      padding:12px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      font-size:15px;
      outline:none;
    }
    input[type="text"]:focus{ border-color:#fecdd3; }
    .btn{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background:#fff;
      font-weight:600;
      cursor:pointer;
    }
    .btn.primary{
      background:var(--red);
      color:#fff;
      border-color:var(--red);
    }

    .row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-top:14px;
      flex-wrap:wrap;
    }
    .progress{display:flex; gap:8px; align-items:center; font-size:13px; color:var(--muted);}
    .dots{display:flex; gap:6px}
    .dot{width:10px; height:10px; border-radius:50%; background:#ffe4e6; border:1px solid #fecdd3;}
    .dot.on{ background:var(--red); border-color:var(--red); }

    .msg{
      margin-top:12px;
      padding:10px 12px;
      border-radius:14px;
      border:1px dashed #fecdd3;
      color:var(--muted);
      font-size:14px;
      min-height:44px;
      display:flex;
      align-items:center;
    }

    .reveal{
      display:none;
      margin-top:14px;
      border-radius:18px;
      overflow:hidden;
      border:1px solid var(--border);
    }
    .reveal img{width:100%; display:block}

    footer{
      padding:14px 22px 18px;
      border-top:1px solid var(--border);
      color:var(--muted);
      font-size:12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .heart{color:var(--red)}

    /* Soft floating hearts */
    .hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 5;
    }
    .heartFloat {
      position: absolute;
      bottom: -30px;
      font-size: 14px;
      opacity: 0;
      animation: floatUp 6.5s linear forwards;
      filter: blur(0.2px);
    }
    @keyframes floatUp {
      0%   { transform: translateY(0) scale(0.9); opacity: 0; }
      10%  { opacity: 0.35; }
      70%  { opacity: 0.25; }
      100% { transform: translateY(-110vh) scale(1.15); opacity: 0; }
    }
  </style>
</head>
<body>
  <!-- hearts layer -->
  <div class="hearts" id="hearts"></div>

  <div class="wrap">
    <div class="card">
      <header>
        <div class="title">
          <h1>For Anita Sharon Elorm Tsyi <span class="heart">‚ù§</span></h1>
          <p class="sub">A tiny ABCD game ‚Äî finish it to unlock your surprise.</p>
        </div>
        <div class="pill">REF THEME ‚Ä¢ red & clean</div>
      </header>

      <main>
        <div class="grid">
          <section class="panel">
            <div class="label">ABCD Game</div>
            <div id="question" class="q"></div>

            <!-- Multiple choice area -->
            <div id="choices" class="choices"></div>

            <!-- Text input area (for Q4) -->
            <div id="textWrap" class="textWrap">
              <input id="textAnswer" type="text" placeholder="Type here..." />
              <button id="submitText" class="btn primary" type="button">Submit</button>
            </div>

            <div class="row">
              <div class="progress">
                <span id="stepText">Step 1 of 4</span>
                <div id="dots" class="dots"></div>
              </div>
              <button id="restart" class="btn" type="button">Restart</button>
            </div>

            <div id="message" class="msg">Pick the correct answer to continue üòä</div>

            <div id="reveal" class="reveal">
              <!-- ‚úÖ REVEAL IMAGE (replace src with your uploaded card) -->
              <img id="revealImg" alt="Surprise" src="anita-card.png">
            </div>

            <!-- ‚úÖ Shows her Q4 answer on the final reveal -->
            <div id="finalAnswer" class="msg" style="display:none;"></div>

            <!-- ‚úÖ Screenshot/share message -->
            <div id="shareMsg" class="msg" style="display:none;">
              If you like this gift, screenshot and share üì∏‚ù§Ô∏è
            </div>

            <div style="margin-top:14px;">
              <button id="finalBtn" class="btn primary" type="button" style="display:none;">Open your message üíå</button>
            </div>
          </section>
        </div>
      </main>

      <footer>
        <span>Made with ‚ù§Ô∏è</span>
        <span id="dateStamp"></span>
      </footer>
    </div>
  </div>

  <script>
    // ‚úÖ FINAL MESSAGE (edit if you want)
    const finalMessage = "Anita, you‚Äôre a blessing. Happy Valentine‚Äôs ‚ù§Ô∏è";
    function openFinalMessage(){ alert(finalMessage); }

    // ‚úÖ Capture Q4 answer to show at the end
    let q4FinalAnswer = "";

    // ‚úÖ QUESTIONS
    const questions = [
      {
        type: "mc",
        prompt: "A ‚Äî What does EAST stand for?",
        choices: [
          "Anita Sharon Elorm Tsyi",
          "Every Angel Sees Truth",
          "Elorm And Sharon Together",
          "Easy And Simple Thing"
        ],
        correctIndex: 0,
        hint: "Think: her full name üòâ"
      },
      {
        type: "mc",
        prompt: "B ‚Äî Favorite song?",
        choices: [
          "Rose of Sharon",
          "Oceans",
          "Perfect",
          "Falling"
        ],
        correctIndex: 0,
        hint: "It‚Äôs the one with ‚ÄòSharon‚Äô üòâ"
      },
      {
        type: "mc",
        prompt: "C ‚Äî Little sister‚Äôs name?",
        choices: [
          "Pieta Grace",
          "Grace Pieta",
          "Pieta Joy",
          "Pieta Faith"
        ],
        correctIndex: 0,
        hint: "Two words üôÇ"
      },
      {
        type: "text",
        prompt: "D ‚Äî A gift you‚Äôd like to receive:",
        hint: ""
      }
    ];

    // Soft heart animation (lightweight)
    const heartsLayer = document.getElementById("hearts");
    function spawnHeart(){
      const h = document.createElement("div");
      h.className = "heartFloat";
      h.textContent = "‚ù§";
      h.style.left = Math.random() * 100 + "vw";
      h.style.fontSize = (10 + Math.random() * 10) + "px";
      h.style.animationDuration = (5.5 + Math.random() * 3.5) + "s";
      h.style.opacity = (0.15 + Math.random() * 0.25).toFixed(2);
      heartsLayer.appendChild(h);
      setTimeout(() => h.remove(), 9000);
    }
    setInterval(spawnHeart, 1200);
    setTimeout(spawnHeart, 400);

    // ---- Game logic ----
    let step = 0;

    const qEl = document.getElementById("question");
    const choicesEl = document.getElementById("choices");
    const msgEl = document.getElementById("message");
    const dotsEl = document.getElementById("dots");
    const stepTextEl = document.getElementById("stepText");
    const restartBtn = document.getElementById("restart");
    const revealEl = document.getElementById("reveal");
    const finalBtn = document.getElementById("finalBtn");
    const dateStamp = document.getElementById("dateStamp");

    const textWrap = document.getElementById("textWrap");
    const textAnswer = document.getElementById("textAnswer");
    const submitText = document.getElementById("submitText");

    const finalAnswerEl = document.getElementById("finalAnswer");
    const shareMsgEl = document.getElementById("shareMsg");

    dateStamp.textContent = new Date().toLocaleDateString(undefined, { year:"numeric", month:"long", day:"numeric" });

    function renderDots(){
      dotsEl.innerHTML = "";
      for(let i=0;i<questions.length;i++){
        const d = document.createElement("div");
        d.className = "dot" + (i <= step-1 ? " on" : "");
        dotsEl.appendChild(d);
      }
    }

    function render(){
      renderDots();
      revealEl.style.display = "none";
      finalBtn.style.display = "none";
      finalAnswerEl.style.display = "none";
      shareMsgEl.style.display = "none";

      const q = questions[step];
      qEl.textContent = q.prompt;
      stepTextEl.textContent = `Step ${step+1} of ${questions.length}`;

      // Reset UI areas
      choicesEl.innerHTML = "";
      choicesEl.style.display = "grid";
      textWrap.style.display = "none";
      textAnswer.value = "";

      // Q4: show nothing in the message area
      msgEl.textContent = (q.type === "text")
        ? ""
        : "Pick the correct answer to continue üòä";

      if(q.type === "mc"){
        q.choices.forEach((text, idx) => {
          const btn = document.createElement("button");
          btn.className = "choice";
          btn.type = "button";
          btn.textContent = text;
          btn.onclick = () => handleChoice(idx);
          choicesEl.appendChild(btn);
        });
      } else {
        // text question
        choicesEl.style.display = "none";
        textWrap.style.display = "flex";
      }
    }

    function handleChoice(idx){
      const q = questions[step];
      if(idx === q.correctIndex){
        msgEl.textContent = "Correct ‚úÖ moving forward‚Ä¶";
        step++;
        if(step >= questions.length){
          finish();
        } else {
          setTimeout(render, 350);
        }
      } else {
        msgEl.textContent = `Not quite üôÇ Hint: ${q.hint}`;
      }
      renderDots();
    }

    // ‚úÖ Store Q4 answer and continue
    submitText.onclick = () => {
      q4FinalAnswer = textAnswer.value.trim() || "Something special ‚ù§Ô∏è";
      step++;

      if(step >= questions.length){
        finish();
      } else {
        render();
      }
      renderDots();
    };

    function finish(){
      qEl.textContent = "You did it ‚ù§Ô∏è";
      choicesEl.innerHTML = "";
      choicesEl.style.display = "none";
      textWrap.style.display = "none";

      stepTextEl.textContent = `Completed (${questions.length}/${questions.length})`;
      msgEl.textContent = "Here‚Äôs your surprise üëá";

      // Show reveal image
      revealEl.style.display = "block";

      // Show her answer
      finalAnswerEl.style.display = "flex";
      finalAnswerEl.textContent = `You‚Äôd love to receive: ‚Äú${q4FinalAnswer}‚Äù ‚ù§Ô∏è`;

      // Show screenshot/share message
      shareMsgEl.style.display = "flex";

      // Final button
      finalBtn.style.display = "inline-flex";
      finalBtn.onclick = openFinalMessage;

      dotsEl.querySelectorAll(".dot").forEach(d => d.classList.add("on"));
    }

    restartBtn.onclick = () => { step = 0; render(); };

    render();
  </script>
</body>
</html>
